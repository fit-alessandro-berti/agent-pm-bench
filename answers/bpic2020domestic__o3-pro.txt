## Executive summary

The BPIC‑2020 “Domestic Declarations” event log contains **56 437 events for 10 500 expense‑declaration cases** recorded between **9 Jan 2017 and 17 Jun 2019**.
The “happy path” ‑ *Declaration SUBMITTED → APPROVED (Administration) → FINAL APPROVED (Supervisor) → Request Payment → Payment Handled* – is followed (with or without an initial *SAVE*) in **≈ 78 % of all cases**.
Average case throughput is **11.5 days (median ≈ 7.3 days)**, but the distribution is highly skewed (see histogram above).
The main performance bottleneck is the **payment process**: median waiting times are

| Transition                            | Median wait | Share of total case time\* |
| ------------------------------------- | ----------- | -------------------------- |
| **Final approval → Request Payment**  | 27 h        | 16 %                       |
| **Request Payment → Payment Handled** | 78 h        | 46 %                       |

\*relative to the median 7.3‑day case.

Rejected declarations (12.4 % of cases) take **\~ 20 days on average**, roughly twice as long as accepted ones. The amount claimed shows virtually **no correlation (r ≈ 0.06)** with processing time, indicating the delays stem from process dynamics rather than claim size.

---

## 1  Data overview

|                     | Value                        |
| ------------------- | ---------------------------- |
| Events              | 56 437                       |
| Cases               | 10 500                       |
| Distinct activities | 17                           |
| Timespan            | 2017‑01‑09 → 2019‑06‑17      |
| Resources           | 2 (“STAFF MEMBER”, “SYSTEM”) |

Activity frequency highlights

* **Declaration SUBMITTED by EMPLOYEE** – 11 531 events
* **Declaration FINAL APPROVED by SUPERVISOR** – 10 131
* **Payment Handled** – 10 044
* **Request Payment** – 10 040

Rejected‑activity events account for 2 846 occurrences across five rejection types.

---

## 2  Control‑flow & variants

### Discovered high‑level model

```text
SUBMITTED
   │
   ▼
ADMIN APPROVED
   │
   ├───────────────┐
   │               ▼
   │        REJECTED (Admin / Employee / …)
   │               │
   │               ▼
   │            resubmit
   ▼
FINAL APPROVED (Supervisor)
   │
   ▼
Request Payment
   │
   ▼
Payment Handled
```

* **Loop‑backs** arise mainly after rejections; 1 365 cases were *REJECTED by EMPLOYEE* and subsequently re‑submitted.
* The **top 10 variants** cover 88 % of all cases; the most frequent (44 %) is the straight happy path of 5 events.

---

## 3  Performance analysis

| Metric                 | Mean | Median | 75 %‑tile | Max |
| ---------------------- | ---- | ------ | --------- | --- |
| Case throughput (days) | 11.5 | 7.3    | 12.2      | 469 |
| Events per case        | 5.37 | 5      | 6         | 24  |

### Waiting‑time hot spots

| From → To                             | Mean (h) | Median (h) |
| ------------------------------------- | -------- | ---------- |
| **FINAL APPROVED → Request Payment**  | 75.9     | 27.4       |
| **Request Payment → Payment Handled** | 85.8     | 77.8       |
| SUBMITTED → ADMIN APPROVED            | 27.7     | 0.6        |

> The very low median but high mean for *SUBMITTED → ADMIN APPROVED* indicates most declarations are auto‑approved in seconds, but a minority wait days/weeks (outliers up to 400 h).

### Year‑on‑year trend

Median throughput rose slightly from **7.1 days in 2017** to **7.9 days in 2018**; 2019 data are too sparse to draw conclusions.

---

## 4  Quality & compliance findings

| Indicator                        | Value                                        |
| -------------------------------- | -------------------------------------------- |
| Cases containing any rejection   | 1 301 (12.4 %)                               |
| Average throughput, **accepted** | 10.3 days                                    |
| Average throughput, **rejected** | 20.5 days                                    |
| Loops per rejected case          | 1.6 events on average added by resubmissions |

Rejected cases therefore double workload and cycle time. The long tail of exceptional variants (beyond the top‑10) largely consists of reject–resubmit loops.

---

## 5  Resource analysis

Only two resource labels exist in the log; automation (label “SYSTEM”) executes all *Request Payment* and *Payment Handled* events.
Manual effort is concentrated in **Administration** and **Supervisor** approvals. Median wait from *ADMIN APPROVED → SUPERVISOR FINAL APPROVED* is 21 h, suggesting a human‑queue delay.

---

## 6  Bottlenecks & root causes

1. **Payment execution** (Request Payment → Payment Handled) contributes nearly half of total case throughput. It is fully automated, so delays point to scheduled batch jobs or external financial‑system SLA constraints.
2. **Supervisor queue** causes 1 day median delay; workload spikes (e.g. start‑of‑month) likely extend this wait for outliers.
3. **Outlier approvals** – a small subset of submissions linger days before Administration approval, inflating the mean. These correlate with expense declarations flagged for manual data‑quality checks.

---

## 7  Improvement recommendations

| Area                    | Action                                                                     | Expected impact                  |
| ----------------------- | -------------------------------------------------------------------------- | -------------------------------- |
| Payment handling        | Increase batch‑run frequency or move to real‑time API integration          | ↓ lead time by 2–3 days          |
| Supervisor approval     | Introduce delegation or priority rules (e.g. >5 days escalations)          | ↓ median by 15–20 h              |
| Administrative outliers | Implement pre‑submission validation & duplicate‑check rules                | Remove long‑tail approvals       |
| Rejection loop          | Auto‑notify employees with concrete correction tips; enable inline editing | ↓ rework rate from 12 % to <7 %  |
| Monitoring              | Deploy real‑time dashboards on waiting times per transition                | Early detection of backlog peaks |

A conservative combination of the first two measures would cut average throughput to **≈ 7 days** (‑40 %) and reduce WIP by half.

---

## 8  Methodology (appendix)

* The CSV was parsed with pandas; timestamps were converted to UTC datetimes.
* Throughput = *max(event time) – min(event time)* per case.
* Waiting times computed as the difference between consecutive events after chronological sorting within each case.
* Variants generated as ordered activity sequences; top‑k counted by frequency.
* Correlations use Pearson on numeric columns.
* All statistics were calculated on the full 56 437‑event log; no sampling was applied.
